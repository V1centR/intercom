wm.retargeting = function(){"use strict"; function a(a, c){c = "undefined" != typeof c?c:f; var d = []; void 0 !== a.visitorIdentify && (d.push("Customer=" + encodeURIComponent(a.visitorIdentify)), d.push("Name=" + encodeURIComponent(a.visitorName))); var e = b("isWalmartDataLayer"); e = - 1 == e?0:e; var g = dataLayer[e]; if (/Cart|Login|Address|DeliveryType|PaymentMethod|ConfirmationPurchasing|Checkout/g.test(g.pageType)){for (var h = [], i = [], j = [], k = [], l = 0, m = g.products.length; m > l; l++){var n = g.products[l]; if (null != n.productSku){h.push(n.productSku); var o = null != n.productPrice?n.productPrice:0; prices.push(o); var p = null != n.productQuantity?n.productQuantity:1; quantities.push(p); var q = null != n.productSellerId?n.productSellerId:""; sellers.push(q)}}d.push("ProdId=" + encodeURIComponent(h.join(","))), d.push("ProdDepartment=" + encodeURIComponent(i.join(","))), d.push("ProdCategory=" + encodeURIComponent(j.join(","))), d.push("ProdSubCategory=" + encodeURIComponent(k.join(",")))} else if ("Product" == g.pageType){var n = g.product[0]; null != n.productSku && d.push("ProdId=" + encodeURIComponent(n.productSku)), null != n.productDepartmentId && d.push("PageDepartamentId=" + encodeURIComponent(n.productDepartmentId)), null != n.productCategoryId && d.push("PageCategoryId=" + encodeURIComponent(n.productCategoryId)), null != n.productSubCategoryId && d.push("PageSubCategoryId=" + encodeURIComponent(n.productSubCategoryId))} else null != g.pageDepartmentId && d.push("PageDepartamentId=" + encodeURIComponent(g.pageDepartmentId)), null != g.pageCategoryId && d.push("PageCategoryId=" + encodeURIComponent(g.pageCategoryId)), null != g.pageSubCategoryId && d.push("PageSubCategoryId=" + encodeURIComponent(g.pageSubCategoryId)); return c + "?" + d.join("&")}function b(a){for (var b = dataLayer.length, c = b - 1; c >= 0; c--){var d = dataLayer[c]; if (null != d[a])return c}return - 1}function c(b, c, d){function e(a){var b = {sku:a.inputSkus[0] || null, recommendations:a.outputSkus || [], error:a.error || ""}; return b}if ("function" == typeof d){var g = wm.datalayerManager.getDataLayerItem("event", "visitorLoad"), h = c || 10, i = b || "", j = a(g, f + "/rest/webstore/"), k = wm.utils.cookies.get("WMVisitorIDWalMartSite"); j && (j += "&DisplayName=" + i, j += "&Quantity=" + h, $.getJSON(j, {WMVisitorIDWalMartSite:k}, function(a){"OK" === a.status?d && d(null, e(a)):"ERROR" === a.status && d && d(a.error, null)}).error(function(a){console.log("Erro", a)}))}}function d(a){var b = "RTGDisplay", c = ".walmart.com.br", d = new Date; d.setTime(d.getTime() + 2592e6); var e = "expires=" + d.toUTCString(); document.cookie = b + "=" + a + ";" + e + ";domain=" + c + "; path=/"}function e(b, c, e, f){"CLICK" === b && d(c); var h = a(g + "/pageaction/pageaction.gif"); h += "&Action=" + b, h += "&Source=" + c, h += "&Sku=" + e || "", h += "&Position=" + f || 0; var i = new Image; i.src = h}var f = wm.constants.RETARGETING_RECOMMENDER, g = wm.constants.RETARGETING_TRACKING; return{getRecommendationByDisplay:c, pageAction:e}}(), wm.utils.detectIframeEmbedding = function(){"use strict"; window.top !== window.self && (window.top.location = window.self.location)}, wm.utils.detectIframeEmbedding(), "function" != typeof Object.create && (Object.create = function(a){function b(){}return b.prototype = a, new b}), function(a, b, c, d){var e = {init:function(b, c){var d = this; d.options = a.extend({}, a.fn.owlCarousel.options, b), d.userOptions = b; var e = a(c); d.$elem = e, d.loadContent()}, loadContent:function(){function b(a){if ("function" == typeof c.options.jsonSuccess)c.options.jsonSuccess.apply(this, [a]); else{var b = ""; for (var d in a.owl)b += a.owl[d].item; c.$elem.html(b)}c.logIn()}var c = this; if ("function" == typeof c.options.beforeInit && c.options.beforeInit.apply(this, [c.$elem]), "string" == typeof c.options.jsonPath){var d = c.options.jsonPath; a.getJSON(d, b)} else c.logIn()}, logIn:function(a){var b = this; b.$elem.css({opacity:0}), b.orignalItems = b.options.items, b.checkBrowser(), b.wrapperWidth = 0, b.checkVisible, b.setVars()}, setVars:function(){var a = this; return 0 === a.$elem.children().length?!1:(a.baseClass(), a.eventTypes(), a.$userItems = a.$elem.children(":not('script, style')"), a.itemsAmount = a.$userItems.length, a.wrapItems(), a.$owlItems = a.$elem.find(".owl-item"), a.$owlWrapper = a.$elem.find(".owl-wrapper"), a.playDirection = "next", a.prevItem = 0, a.currentItem = 0, a.customEvents(), void a.onStartup())}, onStartup:function(){var a = this; a.updateItems(), a.calculateAll(), a.buildControls(), a.updateControls(), a.response(), a.moveEvents(), a.stopOnHover(), a.owlStatus(), a.options.transitionStyle !== !1 && a.transitionTypes(a.options.transitionStyle), a.options.autoPlay === !0 && (a.options.autoPlay = 5e3), a.play(), a.$elem.find(".owl-wrapper").css("display", "block"), a.$elem.is(":visible")?a.$elem.css("opacity", 1):a.watchVisibility(), a.onstartup = !1, a.eachMoveUpdate(), "function" == typeof a.options.afterInit && a.options.afterInit.apply(this, [a.$elem])}, eachMoveUpdate:function(){var a = this; a.options.lazyLoad === !0 && a.lazyLoad(), a.options.autoHeight === !0 && a.autoHeight(), a.options.addClassActive === !0 && a.addClassActive(), "function" == typeof a.options.afterAction && a.options.afterAction.apply(this, [a.$elem])}, updateVars:function(){var a = this; "function" == typeof a.options.beforeUpdate && a.options.beforeUpdate.apply(this, [a.$elem]), a.watchVisibility(), a.updateItems(), a.calculateAll(), a.updatePosition(), a.updateControls(), a.eachMoveUpdate(), "function" == typeof a.options.afterUpdate && a.options.afterUpdate.apply(this, [a.$elem])}, reload:function(a){var b = this; setTimeout(function(){b.updateVars()}, 0)}, watchVisibility:function(){var a = this; return a.$elem.is(":visible") !== !1?!1:(a.$elem.css({opacity:0}), clearInterval(a.autoPlayInterval), clearInterval(a.checkVisible), void(a.checkVisible = setInterval(function(){a.$elem.is(":visible") && (a.reload(), a.$elem.animate({opacity:1}, 200), clearInterval(a.checkVisible))}, 500)))}, wrapItems:function(){var a = this; a.$userItems.wrapAll('<div class="owl-wrapper">').wrap('<div class="owl-item"></div>'), a.$elem.find(".owl-wrapper").wrap('<div class="owl-wrapper-outer">'), a.wrapperOuter = a.$elem.find(".owl-wrapper-outer"), a.$elem.css("display", "block")}, baseClass:function(){var a = this, b = a.$elem.hasClass(a.options.baseClass), c = a.$elem.hasClass(a.options.theme); a.$elem.data("owl-originalStyles", a.$elem.attr("style")).data("owl-originalClasses", a.$elem.attr("class")), b || a.$elem.addClass(a.options.baseClass), c || a.$elem.addClass(a.options.theme)}, updateItems:function(){var b = this; if (b.options.responsive === !1)return!1; if (b.options.singleItem === !0)return b.options.items = b.orignalItems = 1, b.options.itemsDesktop = !1, b.options.itemsDesktopSmall = !1, b.options.itemsTablet = !1, b.options.itemsTabletSmall = !1, b.options.itemsMobile = !1, !1; var c = a(b.options.responsiveBaseWidth).width(); c > (b.options.itemsDesktop[0] || b.orignalItems) && (b.options.items = b.orignalItems), c <= b.options.itemsDesktop[0] && b.options.itemsDesktop !== !1 && (b.options.items = b.options.itemsDesktop[1]), c <= b.options.itemsDesktopSmall[0] && b.options.itemsDesktopSmall !== !1 && (b.options.items = b.options.itemsDesktopSmall[1]), c <= b.options.itemsTablet[0] && b.options.itemsTablet !== !1 && (b.options.items = b.options.itemsTablet[1]), c <= b.options.itemsTabletSmall[0] && b.options.itemsTabletSmall !== !1 && (b.options.items = b.options.itemsTabletSmall[1]), c <= b.options.itemsMobile[0] && b.options.itemsMobile !== !1 && (b.options.items = b.options.itemsMobile[1]), b.options.items > b.itemsAmount && (b.options.items = b.itemsAmount)}, response:function(){var c, d = this; if (d.options.responsive !== !0)return!1; var e = a(b).width(); d.resizer = function(){a(b).width() !== e && (d.options.autoPlay !== !1 && clearInterval(d.autoPlayInterval), clearTimeout(c), c = setTimeout(function(){e = a(b).width(), d.updateVars()}, d.options.responsiveRefreshRate))}, a(b).resize(d.resizer)}, updatePosition:function(){var a = this; a.browser.support3d === !0?a.positionsInArray[a.currentItem] > a.maximumPixels?a.transition3d(a.positionsInArray[a.currentItem]):(a.transition3d(0), a.currentItem = 0):a.positionsInArray[a.currentItem] > a.maximumPixels?a.css2slide(a.positionsInArray[a.currentItem]):(a.css2slide(0), a.currentItem = 0), a.options.autoPlay !== !1 && a.checkAp()}, appendItemsSizes:function(){var b = this, c = 0, d = b.itemsAmount - b.options.items; b.$owlItems.each(function(e){var f = a(this); f.css({width:b.itemWidth}).data("owl-item", Number(e)), (e % b.options.items === 0 || e === d) && (e > d || (c += 1)), f.data("owl-roundPages", c)})}, appendWrapperSizes:function(){var a = this, b = 0, b = a.$owlItems.length * a.itemWidth; a.$owlWrapper.css({width:2 * b, left:0}), a.appendItemsSizes()}, calculateAll:function(){var a = this; a.calculateWidth(), a.appendWrapperSizes(), a.loops(), a.max()}, calculateWidth:function(){var a = this; a.itemWidth = Math.round(a.$elem.width() / a.options.items)}, max:function(){var a = this; a.maximumItem = a.itemsAmount - a.options.items; var b = a.itemsAmount * a.itemWidth - a.options.items * a.itemWidth; return b = - 1 * b, a.maximumPixels = b, b}, min:function(){return 0}, loops:function(){var a = this; a.positionsInArray = [0]; for (var b = 0, c = 0; c < a.itemsAmount; c++)b += a.itemWidth, a.positionsInArray.push( - b)}, buildControls:function(){var b = this; (b.options.navigation === !0 || b.options.pagination === !0) && (b.owlControls = a('<div class="owl-controls"/>').toggleClass("clickable", !b.browser.isTouch).appendTo(b.$elem)), b.options.pagination === !0 && b.buildPagination(), b.options.navigation === !0 && b.buildButtons()}, buildButtons:function(){var b = this, c = a('<div class="owl-buttons"/>'); b.owlControls.append(c), b.buttonPrev = a("<div/>", {"class":"owl-prev", html:b.options.navigationText[0] || ""}), b.buttonNext = a("<div/>", {"class":"owl-next", html:b.options.navigationText[1] || ""}), c.append(b.buttonPrev).append(b.buttonNext), c.on("touchend.owlControls mouseup.owlControls", 'div[class^="owl"]', function(c){c.preventDefault(), a(this).hasClass("owl-next")?b.next():b.prev()})}, buildPagination:function(){var b = this; b.paginationWrapper = a('<div class="owl-pagination"/>'), b.owlControls.append(b.paginationWrapper), b.paginationWrapper.on("touchend.owlControls mouseup.owlControls", ".owl-page", function(c){c.preventDefault(), Number(a(this).data("owl-page")) !== b.currentItem && b.goTo(Number(a(this).data("owl-page")), !0)})}, updatePagination:function(){var b = this; if (b.options.pagination === !1)return!1; b.paginationWrapper.html(""); for (var c = 0, d = b.itemsAmount - b.itemsAmount % b.options.items, e = 0; e < b.itemsAmount; e++)if (e % b.options.items === 0){if (c += 1, d === e)var f = b.itemsAmount - b.options.items; var g = a("<div/>", {"class":"owl-page"}), h = a("<span></span>", {text:b.options.paginationNumbers === !0?c:"", "class":b.options.paginationNumbers === !0?"owl-numbers":""}); g.append(h), g.data("owl-page", d === e?f:e), g.data("owl-roundPages", c), b.paginationWrapper.append(g)}b.checkPagination()}, checkPagination:function(){var b = this; return b.options.pagination === !1?!1:void b.paginationWrapper.find(".owl-page").each(function(c, d){a(this).data("owl-roundPages") === a(b.$owlItems[b.currentItem]).data("owl-roundPages") && (b.paginationWrapper.find(".owl-page").removeClass("active"), a(this).addClass("active"))})}, checkNavigation:function(){var a = this; return a.options.navigation === !1?!1:void(a.options.rewindNav === !1 && (0 === a.currentItem && 0 === a.maximumItem?(a.buttonPrev.addClass("disabled"), a.buttonNext.addClass("disabled")):0 === a.currentItem && 0 !== a.maximumItem?(a.buttonPrev.addClass("disabled"), a.buttonNext.removeClass("disabled")):a.currentItem === a.maximumItem?(a.buttonPrev.removeClass("disabled"), a.buttonNext.addClass("disabled")):0 !== a.currentItem && a.currentItem !== a.maximumItem && (a.buttonPrev.removeClass("disabled"), a.buttonNext.removeClass("disabled"))))}, updateControls:function(){var a = this; a.updatePagination(), a.checkNavigation(), a.owlControls && (a.options.items === a.itemsAmount?a.owlControls.hide():a.owlControls.show())}, destroyControls:function(){var a = this; a.owlControls && a.owlControls.remove()}, next:function(a){var b = this; if (b.isTransition)return!1; if (b.storePrevItem = b.currentItem, b.currentItem += b.options.scrollPerPage === !0?b.options.items:1, b.currentItem > b.maximumItem + (1 == b.options.scrollPerPage?b.options.items - 1:0)){if (b.options.rewindNav !== !0)return b.currentItem = b.maximumItem, !1; b.currentItem = 0, a = "rewind"}b.goTo(b.currentItem, a)}, prev:function(a){var b = this; if (b.isTransition)return!1; if (b.storePrevItem = b.currentItem, b.options.scrollPerPage === !0 && b.currentItem > 0 && b.currentItem < b.options.items?b.currentItem = 0:b.currentItem -= b.options.scrollPerPage === !0?b.options.items:1, b.currentItem < 0){if (b.options.rewindNav !== !0)return b.currentItem = 0, !1; b.currentItem = b.maximumItem, a = "rewind"}b.goTo(b.currentItem, a)}, goTo:function(a, b, c){var d = this; if (d.isTransition)return!1; if (d.getPrevItem(), "function" == typeof d.options.beforeMove && d.options.beforeMove.apply(this, [d.$elem]), a >= d.maximumItem?a = d.maximumItem:0 >= a && (a = 0), d.currentItem = d.owl.currentItem = a, d.options.transitionStyle !== !1 && "drag" !== c && 1 === d.options.items && d.browser.support3d === !0)return d.swapSpeed(0), d.browser.support3d === !0?d.transition3d(d.positionsInArray[a]):d.css2slide(d.positionsInArray[a], 1), d.singleItemTransition(), d.afterGo(), !1; var e = d.positionsInArray[a]; d.browser.support3d === !0?(d.isCss3Finish = !1, b === !0?(d.swapSpeed("paginationSpeed"), setTimeout(function(){d.isCss3Finish = !0}, d.options.paginationSpeed)):"rewind" === b?(d.swapSpeed(d.options.rewindSpeed), setTimeout(function(){d.isCss3Finish = !0}, d.options.rewindSpeed)):(d.swapSpeed("slideSpeed"), setTimeout(function(){d.isCss3Finish = !0}, d.options.slideSpeed)), d.transition3d(e)):b === !0?d.css2slide(e, d.options.paginationSpeed):"rewind" === b?d.css2slide(e, d.options.rewindSpeed):d.css2slide(e, d.options.slideSpeed), d.afterGo()}, getPrevItem:function(){var a = this; a.prevItem = a.owl.prevItem = a.storePrevItem === d?a.currentItem:a.storePrevItem, a.storePrevItem = d}, jumpTo:function(a){var b = this; b.getPrevItem(), "function" == typeof b.options.beforeMove && b.options.beforeMove.apply(this, [b.$elem]), a >= b.maximumItem || - 1 === a?a = b.maximumItem:0 >= a && (a = 0), b.swapSpeed(0), b.browser.support3d === !0?b.transition3d(b.positionsInArray[a]):b.css2slide(b.positionsInArray[a], 1), b.currentItem = b.owl.currentItem = a, b.afterGo()}, afterGo:function(){var a = this; a.checkPagination(), a.checkNavigation(), a.eachMoveUpdate(), "function" == typeof a.options.afterMove && a.options.afterMove.apply(this, [a.$elem]), a.options.autoPlay !== !1 && a.checkAp()}, stop:function(){var a = this; a.apStatus = "stop", clearInterval(a.autoPlayInterval)}, checkAp:function(){var a = this; "stop" !== a.apStatus && a.play()}, play:function(){var a = this; return a.apStatus = "play", a.options.autoPlay === !1?!1:(clearInterval(a.autoPlayInterval), void(a.autoPlayInterval = setInterval(function(){a.next(!0)}, a.options.autoPlay)))}, swapSpeed:function(a){var b = this; "slideSpeed" === a?b.$owlWrapper.css(b.addCssSpeed(b.options.slideSpeed)):"paginationSpeed" === a?b.$owlWrapper.css(b.addCssSpeed(b.options.paginationSpeed)):"string" != typeof a && b.$owlWrapper.css(b.addCssSpeed(a))}, addCssSpeed:function(a){return{"-webkit-transition":"all " + a + "ms ease", "-moz-transition":"all " + a + "ms ease", "-o-transition":"all " + a + "ms ease", transition:"all " + a + "ms ease"}}, removeTransition:function(){return{"-webkit-transition":"", "-moz-transition":"", "-o-transition":"", transition:""}}, doTranslate:function(a){return{"-webkit-transform":"translate3d(" + a + "px, 0px, 0px)", "-moz-transform":"translate3d(" + a + "px, 0px, 0px)", "-o-transform":"translate3d(" + a + "px, 0px, 0px)", "-ms-transform":"translate3d(" + a + "px, 0px, 0px)", transform:"translate3d(" + a + "px, 0px,0px)"}}, transition3d:function(a){var b = this; b.$owlWrapper.css(b.doTranslate(a))}, css2move:function(a){var b = this; b.$owlWrapper.css({left:a})}, css2slide:function(a, b){var c = this; c.isCssFinish = !1, c.$owlWrapper.stop(!0, !0).animate({left:a}, {duration:b || c.options.slideSpeed, complete:function(){c.isCssFinish = !0}})}, checkBrowser:function(){var a = this, d = "translate3d(0px, 0px, 0px)", e = c.createElement("div"); e.style.cssText = "  -moz-transform:" + d + "; -ms-transform:" + d + "; -o-transform:" + d + "; -webkit-transform:" + d + "; transform:" + d; var f = /translate3d\(0px, 0px, 0px\)/g, g = e.style.cssText.match(f), h = null !== g && 1 === g.length, i = "ontouchstart"in b || navigator.msMaxTouchPoints; a.browser = {support3d:h, isTouch:i}}, moveEvents:function(){var a = this; (a.options.mouseDrag !== !1 || a.options.touchDrag !== !1) && (a.gestures(), a.disabledEvents())}, eventTypes:function(){var a = this, b = ["s", "e", "x"]; a.ev_types = {}, a.options.mouseDrag === !0 && a.options.touchDrag === !0?b = ["touchstart.owl mousedown.owl", "touchmove.owl mousemove.owl", "touchend.owl touchcancel.owl mouseup.owl"]:a.options.mouseDrag === !1 && a.options.touchDrag === !0?b = ["touchstart.owl", "touchmove.owl", "touchend.owl touchcancel.owl"]:a.options.mouseDrag === !0 && a.options.touchDrag === !1 && (b = ["mousedown.owl", "mousemove.owl", "mouseup.owl"]), a.ev_types.start = b[0], a.ev_types.move = b[1], a.ev_types.end = b[2]}, disabledEvents:function(){var b = this; b.$elem.on("dragstart.owl", function(a){a.preventDefault()}), b.$elem.on("mousedown.disableTextSelect", function(b){return a(b.target).is("input, textarea, select, option")})}, gestures:function(){function e(a){return a.touches?{x:a.touches[0].pageX, y:a.touches[0].pageY}:a.pageX !== d?{x:a.pageX, y:a.pageY}:{x:a.clientX, y:a.clientY}}function f(b){"on" === b?(a(c).on(j.ev_types.move, h), a(c).on(j.ev_types.end, i)):"off" === b && (a(c).off(j.ev_types.move), a(c).off(j.ev_types.end))}function g(c){var c = c.originalEvent || c || b.event; if (j.isCssFinish === !1 && !j.options.dragBeforeAnimFinish)return!1; if (j.isCss3Finish === !1 && !j.options.dragBeforeAnimFinish)return!1; j.options.autoPlay !== !1 && clearInterval(j.autoPlayInterval), j.browser.isTouch === !0 || j.$owlWrapper.hasClass("grabbing") || j.$owlWrapper.addClass("grabbing"), j.newPosX = 0, j.newRelativeX = 0, a(this).css(j.removeTransition()); var d = a(this).position(); k.relativePos = d.left, k.offsetX = e(c).x - d.left, k.offsetY = e(c).y - d.top, f("on"), k.sliding = !1, k.targetElement = c.target || c.srcElement}function h(d){var d = d.originalEvent || d || b.event; j.newPosX = e(d).x - k.offsetX, j.newPosY = e(d).y - k.offsetY, j.newRelativeX = j.newPosX - k.relativePos, "function" == typeof j.options.startDragging && k.dragging !== !0 && 0 !== j.newRelativeX && (k.dragging = !0, j.options.startDragging.apply(this)), (j.newRelativeX > 8 || j.newRelativeX < - 8 && j.browser.isTouch === !0) && (d.preventDefault?d.preventDefault():d.returnValue = !1, k.sliding = !0), (j.newPosY > 10 || j.newPosY < - 10) && k.sliding === !1 && a(c).off("touchmove.owl"); var f = function(){return j.newRelativeX / 5}, g = function(){return j.maximumPixels + j.newRelativeX / 5}; j.newPosX = Math.max(Math.min(j.newPosX, f()), g()), j.browser.support3d === !0?j.transition3d(j.newPosX):j.css2move(j.newPosX)}function i(c){var c = c.originalEvent || c || b.event; if (c.target = c.target || c.srcElement, k.dragging = !1, j.browser.isTouch !== !0 && j.$owlWrapper.removeClass("grabbing"), 0 !== j.newRelativeX){var d = j.getNewPosition(); if (j.goTo(d, !1, "drag"), k.targetElement === c.target && j.browser.isTouch !== !0){a(c.target).on("click.disable", function(b){b.stopImmediatePropagation(), b.stopPropagation(), b.preventDefault(), a(c.target).off("click.disable")}); var e = a._data(c.target, "events").click, g = e.pop(); e.splice(0, 0, g)}}f("off")}var j = this, k = {offsetX:0, offsetY:0, baseElWidth:0, relativePos:0, position:null, minSwipe:null, maxSwipe:null, sliding:null, dargging:null, targetElement:null}; j.isCssFinish = !0, j.$elem.on(j.ev_types.start, ".owl-wrapper", g)}, getNewPosition:function(){var a, b = this, a = b.improveClosest(); return a > b.maximumItem?(b.currentItem = b.maximumItem, a = b.maximumItem):b.newPosX >= 0 && (a = 0, b.currentItem = 0), a}, improveClosest:function(){var b = this, c = b.positionsInArray, d = b.newPosX, e = null; return a.each(c, function(a, f){d - b.itemWidth / 20 > c[a + 1] && d - b.itemWidth / 20 < f && "left" === b.moveDirection()?(e = f, b.currentItem = a):d + b.itemWidth / 20 < f && d + b.itemWidth / 20 > c[a + 1] && "right" === b.moveDirection() && (e = c[a + 1], b.currentItem = a + 1)}), b.currentItem}, moveDirection:function(){var a, b = this; return b.newRelativeX < 0?(a = "right", b.playDirection = "next"):(a = "left", b.playDirection = "prev"), a}, customEvents:function(){var a = this; a.$elem.on("owl.next", function(){a.next()}), a.$elem.on("owl.prev", function(){a.prev()}), a.$elem.on("owl.play", function(b, c){a.options.autoPlay = c, a.play(), a.hoverStatus = "play"}), a.$elem.on("owl.stop", function(){a.stop(), a.hoverStatus = "stop"}), a.$elem.on("owl.goTo", function(b, c){a.goTo(c)}), a.$elem.on("owl.jumpTo", function(b, c){a.jumpTo(c)})}, stopOnHover:function(){var a = this; a.options.stopOnHover === !0 && a.browser.isTouch !== !0 && a.options.autoPlay !== !1 && (a.$elem.on("mouseover", function(){a.stop()}), a.$elem.on("mouseout", function(){"stop" !== a.hoverStatus && a.play()}))}, lazyLoad:function(){var b = this; if (b.options.lazyLoad === !1)return!1; for (var c = 0; c < b.itemsAmount; c++){var e = a(b.$owlItems[c]); if ("loaded" !== e.data("owl-loaded")){var f, g = e.data("owl-item"), h = e.find(".lazyOwl"); "string" == typeof h.data("src")?(e.data("owl-loaded") === d && (h.hide(), e.addClass("loading").data("owl-loaded", "checked")), f = b.options.lazyFollow === !0?g >= b.currentItem:!0, f && g < b.currentItem + b.options.items && h.length && b.lazyPreload(e, h)):e.data("owl-loaded", "loaded")}}}, lazyPreload:function(a, b){function c(){f += 1, e.completeImg(b.get(0))?d():100 >= f?setTimeout(c, 100):d()}function d(){a.data("owl-loaded", "loaded").removeClass("loading"), b.removeAttr("data-src"), "fade" === e.options.lazyEffect?b.fadeIn(400):b.show()}var e = this, f = 0; b[0].src = b.data("src"), c()}, autoHeight:function(){function b(){g += 1, e.completeImg(f.get(0))?c():100 >= g?setTimeout(b, 100):e.wrapperOuter.css("height", "")}function c(){var b = a(e.$owlItems[e.currentItem]).height(); e.wrapperOuter.css("height", b + "px"), e.wrapperOuter.hasClass("autoHeight") || setTimeout(function(){e.wrapperOuter.addClass("autoHeight")}, 0)}var e = this, f = a(e.$owlItems[e.currentItem]).find("img"); if (f.get(0) !== d){var g = 0; b()} else c()}, completeImg:function(a){return a.complete?"undefined" != typeof a.naturalWidth && 0 == a.naturalWidth?!1:!0:!1}, addClassActive:function(){var b = this; b.$owlItems.removeClass("active"); for (var c = b.currentItem; c < b.currentItem + b.options.items; c++)a(b.$owlItems[c]).addClass("active")}, transitionTypes:function(a){var b = this; b.outClass = "owl-" + a + "-out", b.inClass = "owl-" + a + "-in"}, singleItemTransition:function(){function a(a, b){return{position:"relative", left:a + "px"}}var b = this; b.isTransition = !0; var c = b.outClass, d = b.inClass, e = b.$owlItems.eq(b.currentItem), f = b.$owlItems.eq(b.prevItem), g = Math.abs(b.positionsInArray[b.currentItem]) + b.positionsInArray[b.prevItem], h = Math.abs(b.positionsInArray[b.currentItem]) + b.itemWidth / 2; b.$owlWrapper.addClass("owl-origin").css({"-webkit-transform-origin":h + "px", "-moz-perspective-origin":h + "px", "perspective-origin":h + "px"}); var i = "webkitAnimationEnd oAnimationEnd MSAnimationEnd animationend"; f.css(a(g, 10)).addClass(c).on(i, function(){b.endPrev = !0, f.off(i), b.clearTransStyle(f, c)}), e.addClass(d).on(i, function(){b.endCurrent = !0, e.off(i), b.clearTransStyle(e, d)})}, clearTransStyle:function(a, b){var c = this; a.css({position:"", left:""}).removeClass(b), c.endPrev && c.endCurrent && (c.$owlWrapper.removeClass("owl-origin"), c.endPrev = !1, c.endCurrent = !1, c.isTransition = !1)}, owlStatus:function(){var a = this; a.owl = {userOptions:a.userOptions, baseElement:a.$elem, userItems:a.$userItems, owlItems:a.$owlItems, currentItem:a.currentItem, prevItem:a.prevItem, isTouch:a.browser.isTouch, browser:a.browser}}, clearEvents:function(){var d = this; d.$elem.off(".owl owl mousedown.disableTextSelect"), a(c).off(".owl owl"), a(b).off("resize", d.resizer)}, unWrap:function(){var a = this; 0 !== a.$elem.children().length && (a.$owlWrapper.unwrap(), a.$userItems.unwrap().unwrap(), a.owlControls && a.owlControls.remove()), a.clearEvents(), a.$elem.attr("style", a.$elem.data("owl-originalStyles") || "").attr("class", a.$elem.data("owl-originalClasses"))}, destroy:function(){var a = this; a.stop(), clearInterval(a.checkVisible), a.unWrap(), a.$elem.removeData()}, reinit:function(b){var c = this, d = a.extend({}, c.userOptions, b); c.unWrap(), c.init(d, c.$elem)}, addItem:function(a, b){var c, e = this; return a?0 === e.$elem.children().length?(e.$elem.append(a), e.setVars(), !1):(e.unWrap(), c = b === d || - 1 === b? - 1:b, c >= e.$userItems.length || - 1 === c?e.$userItems.eq( - 1).after(a):e.$userItems.eq(c).before(a), void e.setVars()):!1}, removeItem:function(a){var b, c = this; return 0 === c.$elem.children().length?!1:(b = a === d || - 1 === a? - 1:a, c.unWrap(), c.$userItems.eq(b).remove(), void c.setVars())}}; a.fn.owlCarousel = function(b){return this.each(function(){if (a(this).data("owl-init") === !0)return!1; a(this).data("owl-init", !0); var c = Object.create(e); c.init(b, this), a.data(this, "owlCarousel", c)})}, a.fn.owlCarousel.options = {items:5, itemsDesktop:[1199, 4], itemsDesktopSmall:[979, 3], itemsTablet:[768, 2], itemsTabletSmall:!1, itemsMobile:[479, 1], singleItem:!1, slideSpeed:200, paginationSpeed:800, rewindSpeed:1e3, autoPlay:!1, stopOnHover:!1, navigation:!1, navigationText:["prev", "next"], rewindNav:!0, scrollPerPage:!1, pagination:!0, paginationNumbers:!1, responsive:!0, responsiveRefreshRate:200, responsiveBaseWidth:b, baseClass:"owl-carousel", theme:"owl-theme", lazyLoad:!1, lazyFollow:!0, lazyEffect:"fade", autoHeight:!1, jsonPath:!1, jsonSuccess:!1, dragBeforeAnimFinish:!0, mouseDrag:!0, touchDrag:!0, addClassActive:!1, transitionStyle:!1, beforeUpdate:!1, afterUpdate:!1, beforeInit:!1, afterInit:!1, beforeMove:!1, afterMove:!1, afterAction:!1, startDragging:!1}}(jQuery, window, document), wm.carouselTvHome = function(){"use strict"; function a(a){a.owlCarousel({items:1, autoPlay:!0, stopOnHover:!1, slideSpeed:700, navigation:!0, navigationText:["", ""], responsive:!0, itemsDesktop:[1334, 1], itemsDesktopSmall:[1004, 1], itemsTablet:[1004, 1], itemsMobile:[1004, 1], lazyLoad:!0, afterInit:function(){wm.utils.ads.carousel.preload(this)}, afterMove:function(){wm.utils.ads.carousel.preload(this)}})}var b = ".tv-home", c = $(b); return{init:function(){var d = new wm.utils.lazyLoad; d.init(c, function(){wm.utils.ads.carousel.init(b, function(){a(c)})})}}}(), wm.carouselTvHome.init(), wm.menuShelf = function(){"use strict"; function a(){k.removeClass("hover")}function b(a){a.addClass("hover")}function c(){l.removeClass("active")}function d(a){a.addClass("active")}function e(){m.removeClass("active")}function f(a){a.addClass("active")}function g(){n.removeClass("active")}function h(a){a.addClass("active")}function i(){Modernizr.touch?(a(), c()):(k.hover(function(){var a = $(this); b(a)}, function(){a()}), l.hover(function(){var a = $(this); d(a)}, function(){c()}), m.hover(function(){var a = $(this); f(a)}, function(){e()}), n.hover(function(){var a = $(this); h(a)}, function(){g()}))}var j = $(".main-content"), k = j.find(".home-list"), l = j.find(".shelf-item"), m = j.find(".menu-title-link"), n = j.find(".menu-left-link"); return{init:function(){i()}}}(), wm.menuShelf.init(), wm.carouselBannerHome = function(){"use strict"; function a(a){a.owlCarousel({items:1, slideSpeed:700, navigation:!0, navigationText:["", ""], responsive:!0, itemsDesktop:[1334, 1], itemsDesktopSmall:[1004, 1], itemsTablet:[1004, 1], itemsMobile:[1004, 1], lazyLoad:!0, afterInit:function(){wm.utils.ads.carousel.preload(this)}, afterMove:function(){wm.utils.ads.carousel.preload(this)}})}return{init:function(){var b = new wm.utils.lazyLoad; b.init($(".carousel-banners-home"), function(b){var c = "." + $(b).find(".owl-carousel")[0].className.replace(/\s/g, "."); wm.utils.ads.carousel.init(c, function(){a($(b).find(".owl-carousel"))})})}}}(), wm.carouselBannerHome.init(), wm.shelfBuyBox = function(){"use strict"; function a(){var a = $(this).parents(".shelf-item"); return t = $(".shelf-itens .shelf-item.active-shelf").not(a), t.size() > 0 && c(t), n = a, a.data("available") !== !0?!1:void(a.hasClass("active-shelf")?a.find(o).is(".waiting") && a.find(p).trigger("callAttention"):(a.addClass("active-shelf"), a.data("hastree") === !0 && "undefined" == typeof a.data("tree")?d(a):wm.shelfSkuSelector.appendSelectors(a, n)))}function b(a, b){var c = $(a).parents(".shelf-item"), d = c.attr("data-tooltip-class") || "right"; wm.tooltip.close({target:$(".shelf-item")}), c.data("selectorContainer", !1), wm.tooltip.open({target:a, content:b, className:d + " shelf-buy-box-selector-container"}), c.data("selectorContainer", !0)}function c(a){a && (a.removeClass("active-shelf"), a.data("hastree") === !0 && (wm.shelfBuyButton.resetBuybutton(a), clearTimeout(a.find(".button-container").data("timeOutToClose")), a.find(".button-container").removeData("timeOutToClose")), wm.tooltip.close({target:a.find(".button-container")}), $("body").is(".touch") || a.find(".button-container, .icon").stop().animate({opacity:0}, 100), a.removeData("selectorContainer"), a.is(".hover") && a.find(".button-container, .icon").stop().animate({opacity:1}, 100)), a.removeData("selectorContainer")}function d(a){var b = a.data("productid"), c = $.ajax({url:"/xhr/sku/tree/" + b, dataType:"json", data:wm.utils.getUTMCookie()}).done(function(c){var d = {skuTree:c, productId:b}; a.data("tree", d), wm.shelfSkuSelector.appendSelectors(a, n)}); a.data("ajax", c)}function e(a, b){b && (b = b.replace(/(ˆ*.*\/[0-9]+)(-[0-9]+-[0-9]+)/, "$1-220-220"), a.find("figure img").attr("src", b))}function f(){var a, b = wm.utils.getUTMCookie(); for (var c in b)b.hasOwnProperty(c) && (a = !0); return a || (b = {}, $(window.location.search.replace("?", "").split("&")).each(function(a, c){c.indexOf("utm") >= 0 && (b[c.split("=")[0]] = c.split("=")[1])})), b}function g(a, b){var c = b.data("productid"), d = h(), e = "/xhr/sku/" + a + "/product/" + c + "/shelf/" + d; $.ajax({url:e, data:f()}).done(function(a){i(b, a)})}function h(){for (var a = $("body").attr("class").split(" "), b = "", c = u.length, d = a.length, e = 0; c > e; e++)for (var f = u[e].toLowerCase(), g = 0; d > g; g++){var h = a[g].toLowerCase(); f === h && (b = f)}return b}function i(a, b){var c = a.find(".inner-content"), d = $(b), e = d.find(".btn"), f = d.find(".shelf-price").html(), g = d.find(".stickers").html(), h = c.find(".button-container"); if (c.find(".shelf-price").html(f), c.find(".stickers").html(g), e.hasClass("btn-send")){var i = c.find(".shelf-buy-box-selector-container"); i.find(".btn-send").remove(), i.append(e), j(i), wm.shelfBuyButton.resetBuybutton(a)} else h.find(".btn").remove(), h.prepend(e)}function j(a){a.find(".btn-send").off("click").on("click", function(){wm.notifyme.openModal(a.find(".btn-send").data("sku"))})}function k(){$("body").is(".touch") && $(o, ".shelf-item").removeClass("hidden")}function l(){$(document).on("click", o, a), $(document).on("mouseover", ".shelf-item", function(){var a = $(this).find(".button-container, .icon"); $(this).addClass("hover"), a.find(o).is(".hidden") && (a.find(o).removeClass("hidden"), a.css("opacity", 0)), a.find(o).data("skipservice", !wm.toggles.shelf.services), a.stop().animate({opacity:1}, 100), clearTimeout(a.data("timeOutToClose"))}), $(document).on("mouseleave", ".shelf-item", function(){var a = $(this); if (a.removeClass("hover"), a.data("selectorContainer")){var b = setTimeout(function(){c(a)}, s); q && (b = setTimeout(function(){c(a)}, 2 * s)), a.find(".button-container").data("timeOutToClose", b)} else c(a)}), $(document).on("callAttention", p, function(){var a = $(this); a.addClass("take-a-look").delay(600), setTimeout(function(){a.removeClass("take-a-look")}, 600)})}function m(){$(".shelf-item").removeClass("with-buy-box")}var n = $, o = ".buy-button, .btn-send", p = ".shelf-buy-box-selector-container", q = $("html").is(".lt-ie9"), r = 1e3, s = 1e3, t = null, u = ["home", "category", "department", "mosaic", "landingpage", "search", "brand"]; return{init:function(){s = q?5 * r:r, h(), wm.toggles.shelf.buyBox?(l(), k()):m()}, updateInfo:g, createSelectorContainer:b, callAttention:function(a){a.find(p).trigger("callAttention")}, updatePicture:e, close:c, setTouchVisualization:k}}(), wm.shelfBuyBox.init(), wm.shelfBuyButton = function(){"use strict"; function a(a){a = $(a); var b = a.data("seller"), d = a.data("product"), e = a.data("sku"), f = a.data("skipservice") || !1, g = wm.quantityRange?wm.quantityRange.getValue():h; a.addClass("loader-button active"); var i = {seller:b, skuId:e, productId:d, quantity:g, skipService:f}; if (dataLayer[0] && "Product" === dataLayer[0].pageType)$.extend(i, {title:dataLayer[0].product[0].productName, skuPrice:dataLayer[0].product[0].productPrice, category:dataLayer[0].product[0].productCategoryName, department:dataLayer[0].product[0].productDepartmentName}); else{var j = a.parents(".shelf-item"); $.extend(i, {title:j.find(".product-title").text(), skuPrice:j.find(".payment-price").text(), category:"", department:""})}wm.cart.add(i).then(function(){wm.shelfBuyBox.close(a.parents(".shelf-item"))}, function(b){c(a, b, "top")})["finally"](function(){a.removeClass("loader-button active")})}function b(a){var b; switch (a){case"cancel":break; case"CART_ITEM_OVERFLOW":b = "Este item já está com a quantidade máxima permitida"; break; default:b = "Houve um erro ao adicionar o produto no carrinho"}return b}function c(a, c, d){wm.tooltip.open({target:a}), setTimeout(function(){
wm.tooltip.open({target:a, content:b(c), className:d + " error msg-error", timeToClose:5e3})}, 400)}function d(a){a = $(a), a.data("skipService") || (a.parents(".shelf-item").size() > 0?a.data("skipService", wm.toggles.shelf.services):a.data("skipService", wm.toggles.global.services))}function e(a, b, c){c.offers.available?b.find(".buy-button").attr("data-sku", a).attr("data-product", c.productId).attr("data-seller", c.offers.seller.id).attr("data-available", c.offers.available).removeClass("waiting").addClass("btn-success"):f(b)}function f(a){a.find(".buy-button").attr("data-sku", "").attr("data-product", "").attr("data-seller", "").addClass("waiting").removeClass("btn-success").removeClass("btn-warning").html('<span class="icon"></span>')}function g(){$(document).on("click", ".shelf-itens .buy-button.btn-success", function(b){b.preventDefault(), d(this), $(this).parents(".shelf-item").data("hastree")?wm.skuTreeManager && wm.skuTreeManager.getIdSku() !== !1 && a(this):a(this)})}var h = 1; return{init:function(){wm.toggles.shelf.buyBox && g()}, updateBuybutton:e, resetBuybutton:f}}(), wm.shelfBuyButton.init(), wm.notifyme = function(){"use strict"; function a(a){var d = a.find(".product-ipt-notifyme-client-name"), f = a.find(".product-ipt-notifyme-client-email"), g = a.find(".product-notifyme-skuid"); return d.val().length < 1?(d.focus(), b(".product-notifyme-client-name", "Campo obrigat&oacute;rio"), !1):(c(), f.val().length < 1?(f.focus(), b(".product-notifyme-client-email", "Campo obrigat&oacute;rio"), !1):i.test(f.val())?void e(a, d, f, g):(f.focus(), b(".product-notifyme-client-email", "Informe um e-mail v&aacute;lido"), !1))}function b(a, b){$(a).find(".wm-tooltip").remove(), wm.tooltip.open({target:a, content:b, className:"bottom msg-error", timeToClose:5e3})}function c(){wm.tooltip.close({target:$(g)})}function d(a){var b = j.replace("[[idSku]]", a); return $.ajax({url:b, dataType:"html", success:function(a){$.magnificPopup.open({items:{src:a, type:"inline"}})}})}function e(a, b, d, e){c(), a.fadeOut(function(){$.post(wm.constants.API_ENDPOINT + "/webstore/v1/notifyme/" + e.val() + "/", {name:b.val(), email:d.val()}, function(){k || a.parents(".product-notifyme").addClass("product-notifyme-shelf"), a.parents(".product-notifyme").find(".product-notify-ok").fadeIn()})})}function f(){$("body").on("click", h, function(a){a.preventDefault(), $(this).parent().parent().parent(g).submit()}), $("body").on("submit", g, function(b){b.preventDefault(), a($(this))}), $("body").on("blur", g + " input[type=text], " + g + "input[type=email]", function(){c()}), $(document).on("click", ".shelf-item .btn-send", function(){wm.notifyme.openModal($(this).data("sku"))})}var g = ".product-notifyme-form", h = ".product-notifyme-form .btn-send", i = /^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/, j = wm.constants.WEBSTORE_ENDPOINT + "/xhr/notifyme/[[idSku]]", k = dataLayer && dataLayer[0] && dataLayer[0].product && dataLayer[0].product[0].productSku?!0:!1; return{init:function(){f()}, openModal:d}}(), wm.notifyme.init(), wm.shelfSkuSelector = function(){"use strict"; function a(a, c){if (l = c, a.data("hastree") === !0){o.eventHandler = a.parents(".shelf-itens"), wm.skuTreeManager.init(a.data("tree"), o); var f = wm.skuTreeManager.getSelectors(), h = wm.skuTreeManager.getLabels(), i = b(a, h, f), j = a.find(".button-container"); i.size() > 0 && wm.shelfBuyBox.createSelectorContainer(j, i[0].outerHTML); var k = g(f, i); k?e(a):d(a)}}function b(a, b, c){$(".sku-selector-custom", a).size() > 0 && "function" == typeof Object.getPrototypeOf && $(".sku-selector", a).easyDropDown("destroy"); var d = $(".selectsContainer", a); return d.length < 1 && (d = $('<div class="selectsContainer"></div>')), d.empty(), $(c).each(function(a, c){var e = wm.skuTreeManager.getSelectorType(), f = '<div class="selector-item item-' + a + '"><span class="label-title">' + b[a] + "</span></div>", g = $('<select class="sku-selector"></select>').attr("data-type", e[a]), i = $("<option selected class='label'></option>").text(b[a]).text("Selecione"); g.append(i), $(c).each(function(b, c){i = $("<option></option>").text(c.name).attr("value", c.name), null !== c.thumbId && h(e[a]) && i.attr("data-thumb", p + c.thumbId + q), g.append(i)}), d.append(f).append(g)}), d}function c(a){j = $(a); var b = j.find(":selected"); j.data("thumb", b.data("thumb")), k = b.data("thumb")}function d(a){var b = $(".sku-selector", a), d = {cutOff:3, wrapperClass:"wm-select sku-selector-custom", onChange:function(){c(this), e(a)}}; $(".sku-selector-custom", a).size() > 0 && "function" == typeof Object.getPrototypeOf && b.easyDropDown("destroy"), b.easyDropDown(d), wm.utils.imageError.bind(a.find(".thumb"))}function e(a){var b = $(".sku-selector", a), c = []; b.each(function(a, b){var d = b.value; d = 0 === b.selectedIndex?null:b.options[b.selectedIndex].value, c.push(d)}), o.eventHandler = a.parents(".shelf-itens"), wm.skuTreeManager.init(a.data("tree"), o), a.parents(".shelf-itens").trigger("comboChange", [c, function(b){f(a, b, c)}])}function f(a, c, f){var h = wm.skuTreeManager.getLabels(), i = a.find(m); b(a, h, c), $(".sku-selector", i).each(function(a, b){var c = f[a]; null !== c && $(b).val(c)}); var j = g(c, i); j?e(a):d(a)}function g(a, b){var d = !1; return $(".sku-selector", b).each(function(b, c){c = $(c); var e = a[b], f = c.val(); 1 === e.length && (c[0].selectedIndex = 1, c[0].disabled = !0, c.val() !== f && (d = !0))}), c(b), d}function h(a){var b, c = a.toLowerCase(); return b = $.inArray(c, r) >= 0?!0:!1}function i(){n.on("skuMatch", function(a, b){wm.shelfBuyBox.updateInfo(b, l)}), n.on("picturesChange", function(){j = l, wm.shelfBuyBox.updatePicture(l, k)})}var j, k, l = $, m = ".shelf-buy-box-selector-container", n = $(".shelf-itens"), o = {eventHandler:n}, p = wm.constants.THUMB_URL + "imgres/arquivos/ids/", q = "-25-25", r = ["picture", "pictures", "color", "cor"]; return{init:function(){wm.toggles.shelf.buyBox && (n = $(".shelf-itens"), o.eventHandler = n, i())}, appendSelectors:a, customizeSelectors:d}}(), wm.shelfSkuSelector.init(), wm.skuTreeManager = function(a){"use strict"; function b(b, c){b !== a && (n = b.skuTree, o = [], p = !1, q = !1, n.options && 0 === n.options.length && (p = b.standardSku), c && c.hasOwnProperty("eventHandler") && (r = $(c.eventHandler), r.off("comboChange").on("comboChange", f)))}function c(a){return e(n, 0, a, !1)}function d(a){return e(n, 0, a, !0)}function e(a, b, c, d){if (d = d || !1, "[object Array]" !== Object.prototype.toString.call(c))return!1; if ("undefined" == typeof c[b])return!1; for (var f = 0, g = a.options.length; g > f; f++){var h = a.options[f]; if (null === c[b] && d || m(h.name) === m(c[b]))return h.child?e(h.child, ++b, c, d):h.skuId?h.skuId:!1}return!1}function f(a, b, e){var f = []; if ("[object Array]" !== Object.prototype.toString.call(b))return!1; if (b.length !== o.length && 0 !== o.length)return!1; b = l(n, 0, b); for (var i = 0, j = b.length; j > i; i++)f.push(null !== b[i] && o[i] !== b[i]?!0:!1); o = b; var k = c(o); if (k && k !== p && r.trigger("skuMatch", k), p = k, g(n, 0, f)){var m = d(o); q !== m && (r.trigger("picturesChange", m), q = m)}e && "[object Function]" === Object.prototype.toString.call(e) && e(h(n.options, 0, b, []))}function g(a, b, c){if ("undefined" == typeof c[b])return!1; if (c[b] === !0)for (var d = 0, e = s.length; e > d; d++)if (s[d].toLowerCase() === a.type.toLowerCase())return!0; var f = a.options[0]; return f.child?g(f.child, ++b, c):!1}function h(a, b, c, d){d[b] || (d[b] = []); for (var e, f = 0, g = a.length; g > f; f++)"undefined" == typeof a[f].thumb && (e = a[f].child && a[f].child.options[0].thumb?a[f].child.options[0].thumb.fileId:0), d[b].push({name:a[f].name, thumbId:"undefined" == typeof a[f].thumb?e:a[f].thumb.fileId}), !a[f].child || a[f].name !== c[b] && null !== c[b] && "undefined" != typeof c[b] || (d = h(a[f].child.options, b + 1, c, d)); var j = []; return $.each(d[b], function(a, b){i(b, j) && j.push(b)}), d[b] = j, d}function i(a, b){var c = !0; return $.each(b, function(b, d){d.name === a.name && (c = !1)}), c}function j(a, b, c){return c.push(a.title), a.options[0].child && (c = j(a.options[0].child, b + 1, c)), c}function k(a, b, c){return c.push(a.type), a.options[0].child && (c = k(a.options[0].child, b + 1, c)), c}function l(a, b, c){if ("[object Array]" !== Object.prototype.toString.call(c))return!1; if ("undefined" == typeof c[b])return!1; for (var d = 0, e = a.options.length; e > d; d++){var f = a.options[d]; if (null === c[b] || m(f.name) === m(c[b])){if (f.child)return l(f.child, ++b, c); if (f.skuId)return c}}return c[b] = null, l(a, b, c)}function m(a){return"undefined" != typeof a && (a = null !== a?a.replace(/\s{2,}/g, " "):a), $.trim(a)}var n, o = [], p = !1, q = !1, r = $(".buy-box"), s = ["picture", "pictures", "color", "cor"]; return r.on("comboChange", f), {init:b, getIdSku:function(){return p}, getSelection:function(){return o}, getSelectors:function(){return h(n.options, 0, [], [])}, getLabels:function(){return j(n, 0, [])}, getSelectorType:function(){return k(n, 0, [])}}}(), $(dataLayer).each(function(a, b){"use strict"; b.layerType && "skuTreeManager" === b.layerType && wm.skuTreeManager.init(b.trees[0])}), wm.carouselShelf = function(){"use strict"; function a(a){$(a).owlCarousel({items:3, slideSpeed:700, navigation:!0, navigationText:["", ""], responsive:!0, itemsDesktop:[1315, 2], itemsDesktopSmall:!1, itemsTablet:!1, itemsMobile:!1, scrollPerPage:!0, lazyLoad:!0, afterUpdate:c, afterInit:b, afterMove:b}), wm.utils.imageError.bind(e.find(".lazyOwl"))}function b(a){setTimeout(function(){c(a)}, 1e3)}function c(a){var b = $(a), c = b.find(".shelf-item"), d = b.data("owlCarousel"), e = d.currentItem; c.attr("data-tooltip-class", "shelf-carousel right"), c.eq(e).attr("data-tooltip-class", "shelf-carousel left")}var d, e = $(".carousel-shelf-horizontal"); return{init:function(){d = d || new wm.utils.lazyLoad, d.init(e, a)}, create:function(b){d = d || new wm.utils.lazyLoad, d.init(b, a)}}}(), wm.carouselShelf.init(), wm.newsletter = function(){"use strict"; function a(a){var c = q?q.replace("show-small", "").replace("show-opt-in", ""):""; switch (a = a || "initial", wm.tooltip.close({target:p.find(".btn-send")}), a){case"small":if (!p.is(":visible"))return!1; p.attr("class", c), p.addClass("show-small"); break; case"signin":p.find("input").val(""), p.attr("class", c), p.addClass("show-signin"), b(s, "small"); break; case"signup":p.find("input").val(""), p.attr("class", c), p.addClass("show-signup"), b(s, "small"); break; default:p.attr("class", c), p.addClass("show-opt-in"), b(s, "small")}p.is(":visible") || p.show()}function b(b, d){if ("number" != typeof p.data("timer")){var e = setTimeout(function(){c(), a(d)}, b); p.data("timer", e)}}function c(){p.data("timer") && (clearTimeout(p.data("timer")), p.data("timer", !1))}function d(){if (f()){var a = p.find(".newsletter-client-name").val(), b = p.find(".newsletter-client-email").val(), c = {newsletterClientName:a, newsletterClientEmail:b, newsInternalPage:sitepage, newsInternalPart:"newsletter-bar", newsInternalCampaign:"newsletter-opt-in"}; $.ajax({url:n, type:"post", data:c, crossDomain:!0, success:function(a){"true" === a && e(b)}})}}function e(b){$.ajax({url:"http://www.walmart.com.br/api/webstore/v1/search/email/" + b, type:"GET", contentType:"application/json", dataType:"jsonp", crossDomain:!0, success:function(b){null !== b.firstName?(a("signin"), m()):a("signup")}})}function f(){var a = p.find(".newsletter-client-email"), b = p.find(".newsletter-client-name"); return p.find("input").removeClass("error"), b.val().length < 1?(b.focus().addClass("error"), g("Digite seu nome", "bottom"), !1):a.val().length < 1 || !t.test(a.val())?(a.focus().addClass("error"), g("Digite um e-mail válido", "bottom"), !1):!0}function g(a, b){wm.tooltip.close({target:p.find(".btn-send")}), wm.tooltip.open({target:p.find(".btn-send"), content:a, className:b + " error", timeToClose:5e3})}function h(){wm.utils.checkLogin(function(){l()})}function i(){r.trigger("click")}function j(){var a = /[^a-zA-Z|\s]/g, b = p.find(".newsletter-client-name"); "" !== b.val() && a.test(b.val()) && b.val(b.val().replace(a, "").trim())}function k(){p.on("click", ".btn-send", d), p.on("click", ".btn-signin", h), p.on("click", ".btn-signup", i), p.on("click", ".btn-expand", a), p.find("*").on("focus click touchstart", c), p.on("keyup blur", ".newsletter-client-name", j), $(document).on("click", function(a){$(a.target).eq(0).parents(".newsletter").size() > 0?c():b(s, "small")})}function l(){var b = o; $.ajax({url:b, dataType:"jsonp", success:function(b){"true" !== b.optIn && a()}})}function m(){var a = !1; if (dataLayer)for (var b = dataLayer.length || 0, c = 0; b > c; c++)dataLayer[c].hasOwnProperty("visitorLoginState") && "true" === dataLayer[c].visitorLoginState && l(); return a}var n = wm.constants.WEBSTORE_ENDPOINT + "/Site/Newsletter.aspx", o = wm.constants.API_HOST_ENDPOINT + "/api/webstore/v1/datalayer", p = $(".newsletter"), q = p.attr("class"), r = $("#topbar-signup-link"), s = 1e4, t = /^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/; return{init:function(){l(), k(), b(s, "small")}, changeState:a}}(), wm.newsletter.init(), wm.newsletter = wm.newsletter || {}, wm.newsletter.banner = function(){"use strict"; function a(){var a = wm.datalayerManager.getDataLayerItem("event", "visitorLoad") || {}; return a.optIn || "false"}function b(){0 === $(".banners-bar").find(".banner-item:visible").size() && $(".banners-bar").hide()}function c(){wm.toggles.global.newsletter.enable && wm.toggles.global.newsletter.showBanner && "false" === a()?$(".newsletter-banner").parent().removeClass("hide"):($(".newsletter-banner").parent().addClass("hide"), b())}function d(){$(document).on("datalayerVisitorLoaded", function(){c()})}function e(){wm.toggles.global.newsletter.enable && wm.toggles.global.newsletter.showBanner && (c(), d())}return{init:function(){e(), b()}}}(), wm.newsletter.banner.init(), wm.newsletter = wm.newsletter || {}, wm.newsletter.modal = function(){"use strict"; function a(){var a = $("#newsletterClientName").val(), b = $("#newsletterClientEmail").val(), c = c, d = {newsletterClientName:a, newsletterClientEmail:b, newsInternalPage:c, newsInternalPart:"newsletter-modal", newsInternalCampaign:"newsletter-opt-in"}; return d}function b(){d() && $.ajax({url:wm.constants.WEBSTORE_ENDPOINT + "/Site/Newsletter.aspx", type:"post", data:a(), crossDomain:!0, success:function(a){"true" === a && c()}})}function c(){$(".newsletter-form-content").addClass("hide"), $(".newsletter-success").removeClass("hide")}function d(){return wm.tooltip.close({target:$(".input-line")}), $(".input-box").removeClass("error"), e($("#newsletterClientName")) && f($("#newsletterClientEmail"))?!0:!1}function e(a){var b = /[^a-zA-Z|\s]/g; return a.val(a.val().replace(/^\s+|\s+$/g, "")), a.val().length < 1 || b.test(a.val())?(a.focus().addClass("error"), g(a.parent(), "Nome inválido", "bottom"), !1):!0}function f(a){var b = /^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/; return a.val(a.val().replace(/^\s+|\s+$/g, "")), a.val().length < 1 || !b.test(a.val())?(a.focus().addClass("error"), g(a.parent(), "Digite um e-mail válido", "bottom"), !1):!0}function g(a, b, c){wm.tooltip.open({target:a, content:b, className:c + " error", timeToClose:5e3})}function h(){$("#newsletterButtonSend").on("click", function(){b()}), $(".banners-bar .wm-lightbox").on("click", function(){$("#newsletterClientName").val(""), $("#newsletterClientEmail").val(""), $(".newsletter-form-content").removeClass("hide"), $(".newsletter-success").addClass("hide")})}return{init:function(){h()}, validate:d, validateNameField:e, validateEmailField:f}}(), wm.newsletter.modal.init();